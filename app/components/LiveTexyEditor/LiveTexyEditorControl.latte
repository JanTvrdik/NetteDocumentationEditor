<script>
	var processUrl = {link renderPreview!};
	var controlId = {$control->uniqueId};
</script>

{form form, style => "height: 100%"}
	<div class="live-texy-editor">
		<div class="header">
			<div class="controls">
				<div class="left">
					<span class="nowrap">
						{label page}Page:{/label}&nbsp;
						{input page, size => 40, placeholder => "doc.nette.org/en/components"}
						{input open, value => "Open"}
					</span>
					&nbsp;
					<span n:if="$enableSave" class="nowrap">
						{label message}Commit message:{/label}&nbsp;
						{input message, size => 40}
						{input save, value => "Save"}
					</span>
				</div>
				<div class="right">
					{label panels}View:{/label}&nbsp;
					{input panels}
				</div>
			</div>

			<div n:foreach="$form->allErrors as $error" class="status error">{$error}<button class="close">×</button></div>
			<div n:foreach="$flashes as $flash" class="status {$flash->type}">{$flash->message}<button class="close">×</button></div>
		</div>

		<div class="main">
			<div class="column code">{input texyContent, autofocus => true, data-original => $originalContent}</div>
			<div class="column preview"><iframe></iframe></div>
			<div class="column diff">
				<div class="content"></div>
			</div>
		</div>
	</div>
{/form}
